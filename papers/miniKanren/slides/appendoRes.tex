\begin{lstlisting}
let rec append$^o$ x y r =
  ocanren { fresh h t r' in
    (x === [] & y === r) |
    ( x === h :: x' &
      append$^o$ x' y r' &
      t === h :: r')}
\end{lstlisting}