\begin{lstlisting}
let rec append$^o$ x y r =
  ocanren { fresh h t r' in
    (x === [] & y === r) |
    (x === h :: x' &
     t === h :: r' &
     append$^o$ x' y r')}
\end{lstlisting}