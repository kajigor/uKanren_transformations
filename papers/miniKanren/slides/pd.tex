\begin{tikzpicture}[
  node distance = 10mm and 18 mm,
  decoration = {
    snake,
    pre length=2pt,
    post length=2pt
  }]
  \node (a) [program]
  {
    \adjustbox{scale=0.7}{
      \begin{minipage}[c]{0.47\textwidth}
        \input{doubleAppDef.tex}
        \input{appendoDef.tex}
      \end{minipage}
    }
  };

  \node (b) [goal,anchor=north east] at (a.south east)
  {
    \adjustbox{scale=0.7}{
      \begin{minipage}[c]{0.35\textwidth}
        \begin{lstlisting}
double_append$^o$ x y z r
        \end{lstlisting}
      \end{minipage}
    }
  };

  \node [transparent, anchor=south] at (a.north) {\footnotesize input};

  \node[draw=none, fill=green!50, opacity=0.2, shape=rectangle, minimum width=0.3cm,minimum height=0.4cm, anchor=west] at ($(a.south)+(0.38,3.49)$) {};
  \node[draw=none, fill=green!50, opacity=0.2, shape=rectangle, minimum width=0.3cm,minimum height=0.4cm, anchor=west] at ($(a.south)+(-0.15,3.15)$) {};

  \node (c) [program, right=of a.north east, anchor=north west]
  {
    \adjustbox{scale=0.7}{
      \begin{minipage}[c]{0.52\textwidth}
        \input{doubleAppRes.tex}
        \input{appendoDef.tex}
      \end{minipage}
    }
  };

  \node [transparent, anchor=south] at (c.north) {\footnotesize output};


\end{tikzpicture}